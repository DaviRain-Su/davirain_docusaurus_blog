# 定制托盘

构建自定义运行时最常见的方法是从现有的托盘开始。例如，您可能开始构建一个特定于应用程序的质押托盘，该托盘使用现有集体和余额托盘中公开的类型，但包括您的应用程序及其质押规则所需的自定义运行时逻辑。

托盘宏和属性
FRAME 广泛使用 Rust 宏来封装复杂的代码块。构建自定义托盘最重要的宏是pallet宏。pallet宏定义了托盘必须提供的核心属性集。例如：

`#[pallet::pallet]`是一个强制的托盘属性，使您能够为托盘定义一个结构（struct），以便它可以存储可以轻松检索的数据。
`#[pallet::config`]`是一个强制的托盘属性，使您能够定义托盘的配置特征。
该pallet宏还定义了托盘通常提供的核心属性集。例如：

`#[pallet::call]`是使您能够为托盘实现可调度函数调用的属性。
`#[pallet::error]`是使您能够生成可调度错误的属性。
`#[pallet::event]`是使您能够生成可调度事件的属性。
`#[pallet::storage]`是使您能够在运行时及其元数据中生成存储实例的属性。
这些核心属性与您在编写自定义托盘时需要做出的决定一致。例如，您需要考虑：

贮存。您的托盘存储什么数据？数据是存储在链上还是链下？
功能。您的托盘公开了哪些可调用函数？
交易性。您的函数调用是否旨在以原子方式修改存储？
挂钩。您的托盘会调用任何运行时挂钩吗？
宏简化了实现自定义运行时逻辑所需编写的代码。但是，一些宏对函数声明有特殊要求。例如，Config特征必须由 绑定`frame_system::Config`并且`#[pallet::pallet]`结构必须声明为`pub struct Pallet<T>(_);`。有关 FRAME 托盘中使用的宏的概述，请参阅FRAME 宏。

有用的框架特征
托盘原点
起源：EnsureOrigin，EnsureOneOf ...
运行时实现
编写一个托盘并在运行时实现它是齐头并进的。您的托盘的Config特征是 get 的实现，Runtime它是一个特殊的结构，用于编译construct_runtime宏中所有已实现的托盘。

parameter_types和ord_parameter_types宏对于将值传递给可配置的托盘常量很有用。
[其他注意事项，例如 no_std ]
最小化运行时参考
侧链架构参考
Api 端点：初始化时，链下工作人员？
编写链接到基本和中级操作指南的内容。