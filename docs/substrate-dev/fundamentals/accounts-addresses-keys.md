# 帐户、地址和密钥

账户代表一种身份——通常是个人或组织的身份——能够进行交易或持有资金。尽管帐户最常用于代表一个人，但并非必须如此。帐户可用于代表用户或其他实体执行操作，或自主执行操作。此外，任何一个人或实体都可以拥有多个用于不同目的的帐户。例如，Polkadot 是一个基于 Substrate 的区块链，它有专门的账户来持有与用于进行交易的账户不同的资金。作为区块链或平行链开发人员，您如何实施和使用帐户完全取决于您。

公钥和私钥
一般来说，每个账户都有一个拥有公钥和私钥对的所有者。私钥是随机生成的数字的密码安全序列。为了人类可读性，私钥生成一个随机的单词序列，称为秘密种子短语或助记符。如果私钥丢失，帐户所有者可以使用此秘密种子短语来恢复对帐户的访问。

对于大多数网络，与帐户关联的公钥是该帐户在网络上的标识方式，并用作交易的目标地址。然而，基于 Substrate 的链使用底层公钥来派生一个或多个公共地址。Substrate 允许您为一个帐户生成多个地址和地址格式，而不是直接使用公钥。

地址编码和链特定地址
Substrate 使您能够使用单个公钥来派生多个地址，因此您可以与多个链进行交互，而无需为每个网络创建单独的公钥和私钥对。默认情况下，与帐户的公钥关联的地址使用 Substrate SS58 地址格式。此地址格式基于base-58 编码。除了允许您从同一个公钥派生多个地址之外，base-58 编码还有以下好处：

编码地址由 58 个字母数字字符组成。
字母数字字符串省略了字符串中难以相互区分的字符，例如0、O、I和。l
网络信息（例如，特定于网络的前缀）可以编码在地址中。
可以使用校验和检测输入错误，以确保正确输入地址。
因为单个公钥可以用于为不同的 Substrate 链派生地址，所以单个帐户可以有多个链特定的地址。例如，如果您检查alice帐户公钥的地址0xd43593c715fdd31c61141abd04a99fd6822c8558854ccde39a5684e7a56da27d取决于特定于链的地址类型。

链地址类型	地址
波卡（SS58）	15oF4uVJwmo4TdGW7VfQxNlavjCXviqxT9S1MgbjMNHr6Sp5
草间弥生 (SS58)	HNZata7iMYWmk5RvZRTiAsSDhV8366zq2YGb3tLH5Upf74F
通用底物链 (SS58)	5GrwvaEF5zXb26Fz9rcQpDWS57CtERHpNehXCPcNoHGKutQY
每个 Substrate 区块链都可以注册一个自定义前缀来创建特定于链的地址类型。例如，所有 Polkadot 地址1都以大写字母开头，所有 Kusama 地址都以大写字母开头。所有未注册的 Substrate 链都以5.

subkey inspect您可以使用命令和--network选项或使用Subscan 查找公钥的链特定地址。

有关生成公钥和私钥对以及检查地址的信息，请参阅subkey。有关链特定地址的信息，请参阅SS58 存储库中的说明。

FRAME中的账户信息
从概念上讲，帐户代表具有一个或多个公共地址的公钥/私钥对的身份。但是，在使用FRAME构建的运行时中，账户被定义为一个存储映射，带有一个32字节的地址标识符和对应的账户信息，比如账户已经进行的交易数量，依赖于账户的模块数量，和账户余额。

帐户属性（例如）可以在模块AccountId中进行一般定义。frame_system然后泛型类型在运行时实现中被解析为特定类型，并最终分配一个特定值。例如，AccountFRAME 中的类型依赖于关联AccountId类型。该AccountId类型一直是通用类型，直到在运行时实现中为需要此信息的托盘分配了一个类型。

有关如何在frame_system托盘中定义帐户以及Account存储映射中的帐户属性的更多信息，请参阅帐户数据结构。有关使用泛型类型的更多信息，请参阅Rust for Substrate。

专业账户
尽管大多数账户用于表示控制资金或执行交易的公钥/私钥对，但 Substrate 支持一些专门的账户来控制如何使用特定的密钥对。例如，您可能拥有需要自定义加密方案、只能用于执行特定功能或只能访问特定托盘的帐户。

抵押账户和密钥
在大多数情况下，专用帐户是在特定 FRAME 托盘的上下文中实现的。例如，提名权益证明 (NPoS) 可能要求节点验证者和提名者持有大量代币。为了保证这些账户中的余额安全，Staking 托盘提供了一些账户抽象，用于分离执行特定操作所需的密钥对。

帐户类型	如何使用帐户
存储帐户	stash 帐户表示为验证者定义质押余额的公钥/私钥对。为了安全起见，您应该将存储帐户密钥脱机并保存在冷存储中。您不应该使用 stash 帐户进行频繁的交易。由于该账户的密钥处于离线状态，您可以指定一个控制账户来做出非支出决策，或者指定一个无密钥代理账户代表其在治理中投票。
控制器帐户	控制器帐户代表公钥/私钥对，表明您的验证或提名意图，设置奖励目的地等偏好，对于验证者，设置会话密钥。控制账户只需要支付交易费用，因此只需要最少的资金。它永远不能用于从其存储帐户中花费资金。控制器采取的行动可能会导致罚没，所以它仍然应该得到很好的保护。
会话帐户	会话帐户代表验证者用来签署共识相关消息的公钥/私钥对。会话帐户并非旨在控制资金。这些键也在会话托盘中一般定义，并在运行时具体化。要创建会话帐户密钥对，您必须通过使用您的控制器密钥签署交易并在链上发布会话证书来证明该帐户代表您的存储帐户和提名人。您可以使用session.setKeys事务在链上生成和注册新的会话密钥。author_rotateKeys您可以使用RPC 调用更改会话密钥。
无密钥代理帐户
在某些情况下，您可能希望创建一个与任何所有者分离的帐户，以便它可以用于执行自主交易。例如，您可以创建一个帐户，然后将权限委派给该帐户，以便它可以在无需您干预且无需访问您的密钥的情况下调度函数调用。创建具有委托权限的新帐户后，该帐户可以用作接收者来烧钱或持有等待执行或转移的代币。

您可以使用代理托盘创建一个帐户，该帐户有权使用委派帐户作为签名源来调度某些类型的呼叫。

下一步去哪里
在 Substrate 中，账户需要一个公钥和一个私钥来接收资金、签署交易和执行交易。概括地说，有三种类型的帐户：

使最终用户能够与区块链交互的用户帐户。
通过限制一些质押和治理操作，为验证者和提名者提供额外安全性的网络账户。
由有效来源执行以执行特定于托盘的操作的托盘帐户。
有关使用帐户、地址和密钥的更多信息，请参阅以下资源：

SS58 特征实现
SS58 注册表
命令参考：子键
账户数据结构
密码学